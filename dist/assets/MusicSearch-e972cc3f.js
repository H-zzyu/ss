import{G as k,P as r,o as d,q as _,K as t,F as x,R as I,Q as p,L as n,p as h,V as M,N as S,O as y,E as $}from"./index-ce652367.js";/* empty css                */import{u as g,a as B}from"./counter-3b57c71a.js";var m=0;const N={data(){return{music:[],musicid:0}},mounted(){this.MusicName()},methods:{Collection(e,o,i,l,a){event.stopPropagation();const c={id:e,title:o,description:i,imageUrl:l,album:a};g().increment(c)},MusicId(e,o,i,l,a){const c=g();m&&clearTimeout(m),m=setTimeout(()=>{c.$state.sendmusicmsg=[e,o,i,l,a],m=void 0},0)},MusicName(){this.$Bus.on("text",e=>{this.musicname==""?alert("输入框不能为空"):this.musicname==e?console.log("请求一样"):(console.log("允许"),this.musicname=e,this.getMusicId())})},getMusicId(){var e={method:"get",url:`/music/api/search/get/web?csrf_token=hlpretag=&hlposttag=&s=${this.musicname}&type=1&offset=0&total=true&limit=30`};B(e,{}).then(o=>{this.music=o.data.result.songs,console.log(o.data.result.songs)}).catch(function(o){this.$message.error("音乐搜素失败，请检查网络")})}},beforeUnmount(){this.$Bus.off("text")}},w=e=>(S("data-v-c57c85bc"),e=e(),y(),e),F={class:"music-box"},L={class:"musci"},z=w(()=>t("div",{class:"music-name-list"},[t("div",{class:"music-msg ms"},[t("span",{class:"music-name"},"歌曲名"),t("span",null,"歌手"),t("span",null,"专辑"),t("span",null,"操作")])],-1)),E={class:"music-name-list mm"},U=["onClick"],V={class:"music-name mn"},A={class:"operation"};function O(e,o,i,l,a,c){const f=r("CloseBold"),u=$,v=r("FolderAdd"),C=r("Link");return d(),_("div",F,[t("div",L,[z,t("div",E,[(d(!0),_(x,null,I(a.music,s=>(d(),_("div",{class:"music-msg mm",key:s.id,onClick:b=>c.MusicId(s.id,s.name,s.artists[0].name,s.artists[0].img1v1Url,s.album.name)},[t("span",V,p(s.name),1),t("span",null,p(s.artists[0].name),1),t("span",null,p(s.album.name),1),t("span",A,[n(u,{class:"elicon add",size:20},{default:h(()=>[n(f)]),_:1}),n(u,{class:"elicon",size:20,onClick:M(b=>c.Collection(s.id,s.name,s.artists[0].name,s.artists[0].img1v1Url,s.album.name),["stop"])},{default:h(()=>[n(v)]),_:2},1032,["onClick"]),n(u,{class:"elicon",size:20},{default:h(()=>[n(C)]),_:1})])],8,U))),128))])])])}const q=k(N,[["render",O],["__scopeId","data-v-c57c85bc"]]);export{q as default};
